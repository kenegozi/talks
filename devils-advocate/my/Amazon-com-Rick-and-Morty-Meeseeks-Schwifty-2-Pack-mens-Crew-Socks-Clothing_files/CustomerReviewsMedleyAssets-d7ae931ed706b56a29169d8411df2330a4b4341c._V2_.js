(function(g){var p=window.AmazonUIPageJS||window.P,r=p._namespace||p.attributeErrors,b=r?r("CustomerReviewsMedleyAssets"):p;b.guardFatal?b.guardFatal(g)(b,window):b.execute(function(){g(b,window)})})(function(g,p,r){g.when("A","medley-view","medley-model","ready").register("medley-controller",function(b,a,d){function e(b){b=d.getASIN();var e=a.getDisplayedASIN();e&&b!==e&&(a.fadeReviews(!0),d.getReviews(e,function(){d.setASIN(e)},function(){},function(){a.fadeReviews(!1)}))}var f=a.getLoadedASIN();
d.setASIN(f);b.on("a:pageUpdate",e);return{onTwist:e}});g.when("A","jQuery").register("medley-view",function(b,a){return{getDisplayedASIN:function(){return String(a("#ASIN").val()||"")},getLoadedASIN:function(){return(b.$("#cr-state-object").data("state")||{}).asin||""},fadeReviews:function(b){!1===b?a("#cm-cr-review-list .review,#most-recent-reviews-content .review").css("opacity",1):a("#cm-cr-review-list .review,#most-recent-reviews-content .review").css("opacity",.5)}}});
g.when("A","cr-global-model","cr-ajax-model").register("medley-model",function(b,a,d){function e(a){var b=f(p.location.href)||{};b.asin=a;return b}function f(a){a=a||"";var d={},c=a.indexOf("?"),e=a.indexOf("#");a=a.slice(c+1,e>c?e:r)||"";c=[];-1<a.indexOf("&")?c=a.split("&"):-1<a.indexOf("=")&&(c=[a]);b.each(c,function(a,b){if(0<a.indexOf("=")){var c=a.split("=");d[c[0]]=c[1]}});return d}var c;return{setASIN:function(a){c=a||""},getASIN:function(){return c},getReviews:function(a,b,c,f){"string"===
typeof a&&10===a.length?d.post("/ss/customer-reviews/ajax/medley-reviews/get/",{params:e(a),attribution:"getMedleyReviews",success:b,error:c,finallyCallback:f}):"function"===typeof f&&f()},getUrlVars:f,enhanceReviews:function(a){"string"===typeof a&&10===a.length&&d.post("/ss/customer-reviews/ajax/medley-reviews/enhance/",{params:e(a),attribution:"enhanceMedleyReviews"})}}});g.when("A","review-skyfall-view","review-skyfall-model","reviews-constants","cr-global-view","a-button","cr-log-utils").register("review-skyfall-controller",
function(b,a,d,e,f,c,h){function g(a){a=f.getReftag(a);d.clickMetric(a,function(){})}function q(b,c){a.showMoreFeedbackSection(b.$target.closest(".feedback-section"));var e=f.getReftag(b);d.clickMetric(e,function(a){c.disable()})}b.declarative(e.events.FEEDBACK_CLICK,"click",function(a){var b=c(".cr-feedback-helpful-yes, .cr-feedback-helpful-no");q(a,b)});b.declarative(e.events.CLIQUE_CLICK,"click",g);b.on("a:expander:clique-ratings-read-more:toggle:expand",function(a){h.incrementCount("skyfallReadMore")});
b.on("a:popover:show:skyfallWhatsThis",function(a){h.incrementCount("skyfallWhatsThis")});return{feedbackClick:q,cliqueClick:g}});g.when("A","cr-ajax-model","cr-global-model").register("review-skyfall-model",function(b,a,d){return{clickMetric:function(b,f){var c=d.generateUrl("/ss/customer-reviews/ajax/reftag-trigger",b);a.post(c,{params:{},success:f})}}});g.when("A","reviews-constants").register("review-skyfall-view",function(b,a){return{showMoreFeedbackSection:function(b){b.find(".more-feedback-section").removeClass(a.aui.HIDDEN);
b.find(".is-feature-helpful-row").addClass(a.aui.HIDDEN)}}})});